<?xml version="1.0" encoding="utf-8"?>
<mx:Panel  xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" xmlns:views="views.*">
<mx:Script>
	<![CDATA[
		import mx.managers.PopUpManager;
	
		[Bindable]
		private var requestCategoryName:String;
		[Bindable]
		private var experimentCategoryName:String;
		[Bindable]
		private var billingAccountName:String;
	
		public function setupForm():void {
						
			this.theViews.selectedIndex = 0;
			if (parentDocument.selectedExperiment.@codeRequestCategory == "QC") {
				this.hybsConfirmContainer.visible = false;
				this.hybsConfirmContainer.percentHeight = 0;
				this.hybsConfirmContainer.height = 0;
			} else {
				this.hybsConfirmContainer.visible = true;
				this.hybsConfirmContainer.percentHeight = 100;
			}
			getRequestCategoryName();
			getExperimentCategoryName();
			getBillingAccountName();
			
			
			showCy3LabelCols(true);
			showCy5LabelCols(true);
			
			showQCFieldsCheckBox.selected = false;
			showCy3LabelingFieldsCheckBox.selected = false;
			showCy5LabelingFieldsCheckBox.selected = false;
			showHybFieldsCheckBox.selected = false;
			showExtFieldsCheckBox.selected = false;
			
			callLater(showCy3LabelCols, [false]);
			callLater(showCy5LabelCols, [false]);


		}
		
		private function showCy3LabelCols(isVisible:Boolean):void {
			labelCol1.visible = isVisible;
			labelCol2.visible = isVisible;
			labelCol3.visible = isVisible;
			labelCol4.visible = isVisible;
			labelCol5.visible = isVisible;
		}
			
		private function showCy5LabelCols(isVisible:Boolean):void {
			labelCol6.visible = isVisible;
			labelCol7.visible = isVisible;
			labelCol8.visible = isVisible;
			labelCol9.visible = isVisible;
			labelCol10.visible = isVisible;
		}

	    private function getChannel1SampleName(item:Object, col:int):String {
			var de:XMLList = item.labeledSampleChannel1.LabeledSample.sample.Sample;
	    	if (de.length() == 1) {
		    	return de[0].@name;
	    	} else {
	    		return "";
	    	}
		}
		private function getChannel2SampleName(item:Object, col:int):String {
			var de:XMLList = item.labeledSampleChannel2.LabeledSample.sample.Sample;
	    	if (de.length() == 1) {
		    	return de[0].@name;
	    	} else {
	    		return "";
	    	}
		}
		private function getChannel1SampleNumber(item:Object, col:int):String {
			var de:XMLList = item.labeledSampleChannel1.LabeledSample.sample.Sample;
	    	if (de.length() == 1) {
		    	return de[0].@number;
	    	} else {
	    		return "";
	    	}
		}
		private function getChannel2SampleNumber(item:Object, col:int):String {
			var de:XMLList = item.labeledSampleChannel2.LabeledSample.sample.Sample;
	    	if (de.length() == 1) {
		    	return de[0].@number;
	    	} else {
	    		return "";
	    	}
		}

   	 	private function getSamplesGridRowNumber(item:Object,col:int):String
	    {
    	   var x:int = samplesGridConfirm.dataProvider.getItemIndex(item) + 1;
	       return String(x);
	    } 
   	 	private function getHybsGridRowNumber(item:Object,col:int):String
	    {
    	   var x:int = hybsGridConfirm.dataProvider.getItemIndex(item) + 1;
	       return String(x);
	    } 

		private function getRequestCategoryName():void {
			var requestCategory:Object = parentApplication.manageDictionaries.lastResult.Dictionary.(@className == 'hci.gnomex.model.RequestCategory').DictionaryEntry.(@value == parentDocument.selectedExperiment.@codeRequestCategory);
			requestCategoryName = requestCategory.@display.toString();
		}
		private function getExperimentCategoryName():void {
			var experimentCategory:Object = parentApplication.manageDictionaries.lastResult.Dictionary.(@className == 'hci.gnomex.model.MicroarrayCategory').DictionaryEntry.(@value == parentDocument.selectedExperiment.@codeMicroarrayCategory);
			experimentCategoryName = experimentCategory.@display.toString();
		}
		private function getBillingAccountName():void {
			var billingAccount:Object = null;
			for each(var lab:Object in parentApplication.promptedSubmitRequestLabList) {
				for each(var ba:Object in lab.billingAccounts.BillingAccount) {
					if (ba.@idBillingAccount == parentDocument.selectedExperiment.@idBillingAccount) {
						billingAccount = ba;
						break;
					}
						
				}
			}
			if (billingAccount != null) {
				billingAccountName = billingAccount.@accountName;
			}
		}
		
		private function showPrintableRequestForm():void {
			var url:URLRequest = new URLRequest('http://localhost/gnomex/ShowRequestForm.gx?idRequest=' + parentDocument.selectedExperiment.@idRequest);
			navigateToURL(url, '_blank');			
		}
		
		private function showEditExperimentWindow():void {

			 var editWindow:views.SubmitRequestView = views.SubmitRequestView(PopUpManager.createPopUp(this.parentApplication.topArea, views.SubmitRequestView, true));
			 editWindow.title = "Edit Experiment " + this.parentDocument.selectedExperiment.@number;
			 PopUpManager.centerPopUp(editWindow);		
			 callLater(editWindow.setupEditForm, [parentDocument.selectedExperiment]);
		}


	]]>
</mx:Script>

<mx:VBox width="100%" height="100%">
	
		
	<mx:ViewStack id="theViews" width="100%" height="100%">

		<mx:VBox width="100%" height="100%" verticalGap="0">
		    <mx:VBox height="100%"  width="100%" verticalGap="0">
		        <mx:HBox width="100%" paddingTop="4" paddingBottom="10" horizontalGap="6" paddingLeft="6" paddingRight="6">
		        	<mx:VBox verticalGap="0">
		        		<mx:HBox horizontalGap="0">
		                    <mx:Label text="#"  width="90" fontWeight="bold">
		                    	<mx:click>{theViews.selectedIndex = 1;editView.setupEditForm(parentDocument.selectedExperiment)}</mx:click>
		                    </mx:Label>
		                    <mx:Text  id="requestNumber" text="{parentDocument.selectedExperiment.@number}"  width="80" />
		                </mx:HBox>
		                <mx:HBox verticalGap="0" horizontalGap="0">
		                  <mx:Label text="Submit Date"  width="90" fontWeight="bold"/>
		                  <mx:Text text="{parentDocument.selectedExperiment.@createDate}" width="80"/>
		                </mx:HBox>
		                <mx:HBox verticalGap="0" horizontalGap="0">
		                  <mx:Label width="90" text="Completed on" fontWeight="bold"/>
		                  <mx:Text  text="{parentDocument.selectedExperiment.@completedDate}" width="80" />
		                </mx:HBox>
		        	</mx:VBox>
		        	<mx:VBox verticalGap="0">
			        	
			        	 <mx:HBox verticalGap="0" horizontalGap="0">
			        	   <mx:Label text="Submitter"  width="105" fontWeight="bold"/>
			        	   <mx:Text text="{parentDocument.selectedExperiment.@ownerName}" width="180" />
			        	 </mx:HBox>
			        	 <mx:HBox verticalGap="0" horizontalGap="0">
			        	       <mx:Label text="Request Type"  width="105" fontWeight="bold"/>
			        	       <mx:Text text="{requestCategoryName}" width="180" />
			        	   </mx:HBox>
			            <mx:HBox verticalGap="0" horizontalGap="0">
			                <mx:Label text="Experiment Type"  width="105" fontWeight="bold"/>
			                <mx:Text  text="{experimentCategoryName}" width="180" />
			            </mx:HBox>
		        	</mx:VBox>
		        	<mx:VBox width="100%" verticalGap="0">
			        	
			            <mx:HBox verticalGap="0" width="100%" horizontalGap="0">
			                   <mx:Label text="Group"  width="55" fontWeight="bold"/>
			                   <mx:Text text="{parentDocument.selectedExperiment.@labName}" width="100%"/>
			               </mx:HBox>
			            <mx:HBox verticalGap="0" width="100%" horizontalGap="0">
			                <mx:Label text="Account"  width="55" fontWeight="bold"/>
			                <mx:Text text="{billingAccountName}" width="100%" />
			            </mx:HBox>
			            <mx:HBox verticalGap="0" width="100%" horizontalGap="0">
			                <mx:Label text="Project"  width="55" fontWeight="bold"/>
			                <mx:Text  text="{parentDocument.selectedExperiment.@projectName}" width="100%"/>
			            </mx:HBox>
		        	</mx:VBox>
		        </mx:HBox>
	
				<mx:VBox   width="100%" height="100%" backgroundAlpha="0.0" verticalGap="5" paddingBottom="5" paddingLeft="5" paddingRight="5" paddingTop="0" id="confirmContainer">
					<mx:VBox verticalGap="0" width="100%" height="100%">
						<mx:HBox width="100%" horizontalGap="2">
							<mx:Label text="{'Samples'}" fontWeight="bold"/>
							<mx:Spacer width="74"/>
							<mx:CheckBox id="showQCFieldsCheckBox" label="Show QC columns"/>
						</mx:HBox>
						<mx:DataGrid width="100%" id="samplesGridConfirm"  editable="false" dataProvider="{parentDocument.selectedExperiment.samples.Sample}" backgroundAlpha="0" borderStyle="solid" selectionColor="#FFFFB9" rollOverColor="#C0C0C0" horizontalScrollPolicy="auto" height="100%">
							<mx:columns>
							    <mx:DataGridColumn editable="false" headerText=""   resizable="false" width="30" labelFunction="getSamplesGridRowNumber"/>
								<mx:DataGridColumn headerText="Sample Name" width="100" dataField="@name"/>
								<mx:DataGridColumn headerText="Conc." width="65" visible="{!showQCFieldsCheckBox.selected}"  dataField="@concentration"/>
				                <mx:DataGridColumn id="concentrationUnitConfirmColumn" visible="{!showQCFieldsCheckBox.selected}"  headerText="Unit"  width="60" labelFunction="parentApplication.lookupConcentrationUnit" />
					            <mx:DataGridColumn headerText="Sample Type"  width="130" visible="{!showQCFieldsCheckBox.selected}"  labelFunction="parentApplication.lookupSampleTypeName"/>
					            <mx:DataGridColumn headerText="Organism" visible="{(showQCFieldsCheckBox.selected || parentDocument.selectedExperiment.@codeRequestCategory == 'QC') ? false : true}"  id="sampleOrganismConfirmColumn" width="100" labelFunction="parentApplication.lookupOrganism"/>
					            <mx:DataGridColumn headerText="Sample Source" visible="{showQCFieldsCheckBox.selected || parentDocument.selectedExperiment.@codeRequestCategory == 'QC' ? false : true}"  id="sampleSourceConfirmColumn" width="90" labelFunction="parentApplication.lookupSampleSource"/>
					            <mx:DataGridColumn headerText="Sample Prep Method"   visible="{!showQCFieldsCheckBox.selected}" width="160" labelFunction="parentApplication.lookupSamplePrepMethod"/>
				                <mx:DataGridColumn id="chipTypeConfirmColumn" visible="{showQCFieldsCheckBox.selected || parentDocument.selectedExperiment.@codeRequestCategory != 'QC' ? false : true}" headerText="Chip Type"  width="120" labelFunction="parentApplication.lookupChipType" />
								

								<mx:DataGridColumn visible="{showQCFieldsCheckBox.selected}" headerText="QC Conc." width="70" dataField="@qualCalcConcentration"/>
								<mx:DataGridColumn visible="{showQCFieldsCheckBox.selected}" headerText="QC 260/230" width="80" dataField="@qual260nmTo230nmRatio"/>
								<mx:DataGridColumn visible="{showQCFieldsCheckBox.selected}" headerText="QC 260/280" width="80" dataField="@qual260nmTo280nmRatio"/>
								<mx:DataGridColumn visible="{showQCFieldsCheckBox.selected}" headerText="QC 28s/18s" width="80" dataField="@qual28sTo18sRibosomalRatio"/>
								<mx:DataGridColumn visible="{showQCFieldsCheckBox.selected}" headerText="QC RIN" width="70" dataField="@qualRINNumber"/>
								<mx:DataGridColumn visible="{showQCFieldsCheckBox.selected}" headerText="QC Status" width="90" dataField="@qualStatus"/>

								
								<mx:DataGridColumn id="AGE0" headerText="Age" visible="{parentDocument.selectedExperiment.@AGE == 'Y' ? true : false}" dataField="@AGE"  />
								<mx:DataGridColumn id="CELLLINE0" headerText="Cell line" dataField="@CELLLINE" visible="{parentDocument.selectedExperiment.@CELLLINE == 'Y' ? true : false}" />
								<mx:DataGridColumn id="CELLTYPE0" headerText="Cell Type" dataField="@CELLTYPE" visible="{!parentDocument.selectedExperiment.@CELLTYPE == 'Y' ? true : false}" />
								<mx:DataGridColumn id="CLININFO0" headerText="Clinical Info" dataField="@CLININFO" visible="{parentDocument.selectedExperiment.@CLININFO == 'Y' ? true : false}" />
								<mx:DataGridColumn id="COMPOUND0" headerText="Compound" dataField="@COMPOUND" visible="{parentDocument.selectedExperiment.@COMPOUND == 'Y' ? true : false}" />
								<mx:DataGridColumn id="DISSTATE0" headerText="Disease State" dataField="@DISSTATE" visible="{parentDocument.selectedExperiment.@DISSTATE == 'Y' ? true : false}" />
								<mx:DataGridColumn id="DOSE0" headerText="Dose" dataField="@DOSE" visible="{parentDocument.selectedExperiment.@DOSE == 'Y' ? true : false}" />
								<mx:DataGridColumn id="GENMOD0" headerText="Genetic Modification" dataField="@GENMOD" visible="{parentDocument.selectedExperiment.@GENMOD == 'Y' ? true : false}" />
								<mx:DataGridColumn id="GENOTYPE0" headerText="Genotype" dataField="@GENOTYPE" visible="{parentDocument.selectedExperiment.@GENOTYPE == 'Y' ? true : false}" />
								<mx:DataGridColumn id="GROWTHCOND0" headerText="Growth Conditions" dataField="@GROWTHCOND" visible="{parentDocument.selectedExperiment.@GROWTHCOND == 'Y' ? true : false}" />
								<mx:DataGridColumn id="INDIV0" headerText="Individual" dataField="@INDIV" visible="{parentDocument.selectedExperiment.@INDIV == 'Y' ? true : false}" />
								<mx:DataGridColumn id="ORGPART0" headerText="Organ / Tissue" dataField="@ORGPART" visible="{parentDocument.selectedExperiment.@ORGPART == 'Y' ? true : false}" />
								<mx:DataGridColumn id="SEX0" headerText="Sex" dataField="@SEX" visible="{parentDocument.selectedExperiment.@SEX == 'Y' ? true : false}" />
								<mx:DataGridColumn id="TEMP0" headerText="Temperature" dataField="@TEMP" visible="{!parentDocument.selectedExperiment.@TEMP == 'Y' ? true : false}" />
								<mx:DataGridColumn id="TIME0" headerText="Time Course" dataField="@TIME" visible="{parentDocument.selectedExperiment.@TIME == 'Y' ? true : false}" />
								<mx:DataGridColumn id="otherDataColumnConfirm" headerText="{parentDocument.selectedExperiment.@otherLabel.toString()}" dataField="@OTHER" visible="{parentDocument.selectedExperiment.@OTHER == 'Y' ? true : false}" />
								<mx:DataGridColumn visible="{parentDocument.selectedExperiment.@treatment == 'Y' ? true : false}" headerText="Treatment" width="100" dataField="@treatment"/>

								<mx:DataGridColumn headerText="Description" width="100" dataField="@description"/>
							</mx:columns>
						</mx:DataGrid>
					</mx:VBox>
					<mx:VBox width="100%" height="100%" verticalGap="0" id="hybsConfirmContainer">
						<mx:HBox width="100%" horizontalGap="2" paddingTop="8">
							<mx:Label text="{'Hybridizations'}" fontWeight="bold"/>
							<mx:Spacer width="40"/>
							<mx:Label text="Show other columns:" id="showWorkflowLabel"/>
							<mx:CheckBox id="showCy3LabelingFieldsCheckBox" label="Cy3 Labeling" click="showCy3LabelCols(showCy3LabelingFieldsCheckBox.selected)"/>
							<mx:CheckBox id="showCy5LabelingFieldsCheckBox" label="Cy5 Labeling" click="showCy5LabelCols(showCy5LabelingFieldsCheckBox.selected)"/>
							<mx:CheckBox id="showHybFieldsCheckBox" label="Hyb"/>
							<mx:CheckBox id="showExtFieldsCheckBox" label="Scan/FE"/>
						</mx:HBox>
						<mx:DataGrid width="100%" height="100%" id="hybsGridConfirm"  horizontalScrollPolicy="auto" editable="false" dataProvider="{parentDocument.selectedExperiment.hybridizations.Hybridization}"  backgroundAlpha="0" borderStyle="solid" rollOverColor="#C0C0C0" selectionColor="#FFFFB9">
							<mx:columns>
							    <mx:DataGridColumn editable="false" headerText=""   resizable="false" width="35" labelFunction="getHybsGridRowNumber"/>
							    <mx:DataGridColumn editable="false" headerText="Cy3 Sample (green)"  width="122" labelFunction="getChannel1SampleName"/>
							    <mx:DataGridColumn id="channel2SampleConfirmColumn" editable="false" headerText="Cy5 Sample (red)"  width="122" labelFunction="getChannel2SampleName"/>

								<mx:DataGridColumn id="labelCol1"  visible="false"  headerText="Channel1 Labeling protocol"  labelFunction="parentApplication.lookupLabelingProtocolChannel1" width="80" dataField="@idLabelingProtocolChannel1">
									<mx:headerRenderer >
									<mx:Component>
										<mx:VBox verticalGap="0"   horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy3 Label"/>
										    <mx:Label text="Protocol"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol2"  visible="false" headerText="Channel1 Labeling yield" width="80" dataField="@labelingYieldChannel1">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy3 Label"/>
										    <mx:Label text="Yield"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol3"  visible="false" headerText="Channel1 Labeling Reaction size" width="80" dataField="@codeLabelingReactionSizeChannel1">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy3 Label"/>
										    <mx:Label text="Reaction size"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol4"  visible="false" headerText="Channel1 Labeling # Reactions" width="80" dataField="@numberOfReactionsChannel1">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy3 Label"/>
										    <mx:Label text="# reactions"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn  id="labelCol5"   visible="false" headerText="Channel1 Labeling Status" width="80" dataField="@labelingStatusChannel1">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy3 Label"/>
										    <mx:Label text="Status"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol6"   visible="false" headerText="Channel2 Labeling protocol"  labelFunction="parentApplication.lookupLabelingProtocolChannel2" width="80" dataField="@idLabelingProtocolChannel2">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy5 Label"/>
										    <mx:Label text="Protocol"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol7"   visible="false" headerText="Channel2 Labeling yield" width="80" dataField="@labelingYieldChannel2">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy5 Label"/>
										    <mx:Label text="Yield"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol8"  visible="false" headerText="Channel2 Labeling Reaction size" width="80" dataField="@codeLabelingReactionSizeChannel2">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy5 Label"/>
										    <mx:Label text="Reaction size"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol9"  visible="false"  headerText="Channel2 Labeling # Reactions" width="80" dataField="@numberOfReactionsChannel2">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy5 Label"/>
										    <mx:Label text="# reactions"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>
								<mx:DataGridColumn id="labelCol10"   visible="false" headerText="Channel2 Labeling Status" width="80" dataField="@labelingStatusChannel2">
									<mx:headerRenderer>
									<mx:Component>
										<mx:VBox verticalGap="0" horizontalAlign="center" verticalAlign="middle">
										    <mx:Label text="Cy5 Label"/>
										    <mx:Label text="Status"/>
										</mx:VBox>
									</mx:Component>
									</mx:headerRenderer>
								</mx:DataGridColumn>



								<mx:DataGridColumn visible="{showHybFieldsCheckBox.selected}" headerText="Hyb Slide barcode" width="70" dataField="@slideBarcode"/>
								<mx:DataGridColumn visible="{showHybFieldsCheckBox.selected}" headerText="Coordinate" width="70" dataField="@arrayCoordinateName"/>
								<mx:DataGridColumn visible="{showHybFieldsCheckBox.selected}" headerText="Hyb Protocol" width="70" labelFunction="parentApplication.lookupHybProtocol"  dataField="@idHybProtocol"/>
								<mx:DataGridColumn visible="{showHybFieldsCheckBox.selected}" headerText="Hyb Status" width="90" dataField="@hybStatus"/>


								<mx:DataGridColumn visible="{showExtFieldsCheckBox.selected}" headerText="Scan Protocol" width="70" labelFunction="parentApplication.lookupScanProtocol" dataField="@idScanProtocol"/>
								<mx:DataGridColumn visible="{showExtFieldsCheckBox.selected}" headerText="F/E Protocol" width="70" labelFunction="parentApplication.lookupFeatureExtractionProtocol" dataField="@idFeatureExtractionProtocol"/>
								<mx:DataGridColumn visible="{showExtFieldsCheckBox.selected}" headerText="Ext Status" width="90" dataField="@extractionStatus"/>


							     <mx:DataGridColumn headerText="Slide" visible="{showCy3LabelingFieldsCheckBox.selected || showCy5LabelingFieldsCheckBox.selected || showHybFieldsCheckBox.selected || showExtFieldsCheckBox.selected ? false : true}"  width="320" labelFunction="parentApplication.lookupSlideDesignName" />
							     <mx:DataGridColumn headerText="Slide Source"  visible="{showCy3LabelingFieldsCheckBox.selected || showCy5LabelingFieldsCheckBox.selected || showHybFieldsCheckBox.selected || showExtFieldsCheckBox.selected ? false : true}"   width="82"  labelFunction="parentApplication.lookupSlideSource" />
								<mx:DataGridColumn headerText="Notes" width="100"  visible="{showCy3LabelingFieldsCheckBox.selected || showCy5LabelingFieldsCheckBox.selected || showExtFieldsCheckBox.selected ? false : true}"   dataField="@notes"/>
							</mx:columns>
						</mx:DataGrid>
					</mx:VBox>
				</mx:VBox>
		    </mx:VBox>
			
		</mx:VBox>
	    
	    
	    <views:SubmitRequestView id="editView">	    	
	    </views:SubmitRequestView>



		
	</mx:ViewStack>
	
</mx:VBox>

			<mx:ControlBar width="100%">
			    <mx:Button label="Printable Request form" click="showPrintableRequestForm()" icon="@Embed(source='../assets/page.png')"/>

			    <mx:Button label="Edit Experiment" click="showEditExperimentWindow()" icon="@Embed(source='../assets/tag_blue_edit.png')">
			        <mx:height>{parentDocument.selectedExperiment.@canUpdate == &quot;Y&quot; ? 22 : 0}</mx:height>
			        <mx:visible>{parentDocument.selectedExperiment.@canUpdate == &quot;Y&quot; ? true : false}</mx:visible>
			    </mx:Button>				
			</mx:ControlBar>
	
</mx:Panel>
