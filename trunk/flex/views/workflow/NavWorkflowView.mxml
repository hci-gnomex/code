<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml"     
	xmlns:views="views.*" xmlns:workflow="views.workflow.*"  xmlns:WorkflowView="WorkflowView.*" 
	showEffect="{parentApplication.fadeIn}" hideEffect="{parentApplication.fadeOut}" 	
    creationPolicy="all"
	label="Workflow" width="100%" height="100%" >

    <mx:Script>
        <![CDATA[ 
        import mx.controls.Alert;
		
		public function checkDirty():void {
		}
		        
        private function onMicroarrayWorklistChange():void {
        	if (microarrayViews.selectedChild == workflowQCView) {
        		workflowQCView.getWorkListQC.send();
        	} else if (microarrayViews.selectedChild == workflowLabelingView) {
        		workflowLabelingView.getWorkList.send();
        	} else if (microarrayViews.selectedChild  == workflowHybView) {
        		workflowHybView.getWorkList.send();
        	} else if (microarrayViews.selectedChild == workflowExtractionView) {
        		workflowExtractionView.getWorkList.send();
        	}
			detailViews.selectedIndex = 0;
			detailViews.visible = true;

        }
        private function onSolexaWorklistChange():void {
        	if (solexaViews.selectedChild == workflowSolexaQCView) {
        		workflowSolexaQCView.getWorkList.send();
        	} else if (solexaViews.selectedChild == workflowSolexaPrepView) {
        		workflowSolexaPrepView.getWorkList.send();
        	} else if (solexaViews.selectedChild == workflowSolexaStockView) {
        		workflowSolexaStockView.getWorkList.send();
        	} else if (solexaViews.selectedChild == workflowSolexaAssembleView) {
        		workflowSolexaAssembleView.initializeData();
        		workflowSolexaAssembleView.getWorkList.send();
        		workflowSolexaAssembleView.getNextWorkList.send();
        	} else if (solexaViews.selectedChild == workflowSolexaRunView) {
        		workflowSolexaRunView.getWorkList.send();
        	} else if (solexaViews.selectedChild == workflowSolexaPipelineView) {
        		workflowSolexaPipelineView.getWorkList.send();
        	} 
			detailViews.selectedIndex = 1;  
			detailViews.visible = true;

        }
        ]]>
    </mx:Script>


	<mx:HDividedBox width="100%" height="100%">

		<mx:TabNavigator styleName="navTabNavigator" width="165"  height="100%"  change="{solexaViews.selectedChild=blankSolexa;microarrayViews.selectedChild=blankMicroarray}">
			<mx:Canvas label="Microarray" width="100%" height="100%" >
				<mx:VBox horizontalAlign="center" width="100%" height="100%" paddingTop="12" paddingRight="2" paddingLeft="2" paddingBottom="4">
			  		<mx:Text text="Microarray and Sample Quality Work Lists" width="100%" fontWeight="normal" color="#000000"/>
			  		
			  		<mx:LinkBar dataProvider="microarrayViews"   styleName="navLinkBar" direction="vertical"   selectedIndex="4"  itemClick="onMicroarrayWorklistChange()"  height="114" >
			  		</mx:LinkBar>
				
				</mx:VBox>
			</mx:Canvas >
			<mx:Canvas label="Illumina" width="100%" height="100%">
				<mx:VBox horizontalAlign="center" width="100%" height="100%" paddingTop="12" paddingRight="2" paddingLeft="2" paddingBottom="4">
					
			  		<mx:LinkBar dataProvider="solexaViews"  styleName="navLinkBar" textDecoration="underline"  direction="vertical"   itemClick="onSolexaWorklistChange()"  height="183"  width="116">
			  		</mx:LinkBar> 

					<mx:Spacer height="20"/>			  		
			  		<mx:HRule>
			  		</mx:HRule>
					<mx:Spacer height="10"/>			  		
			  		<mx:LinkButton label="Flow Cells"  styleName="navLinkBar"  click="{detailViews.selectedChild = flowCellView;flowCellView.getFlowCellList.send();}"/>
				</mx:VBox>
			</mx:Canvas>
			
		</mx:TabNavigator>
		    
			
	
		<mx:ViewStack id="detailViews" width="100%" height="100%">
			<mx:ViewStack id="microarrayViews"  visible="true" height="100%" width="100%"  >


	           <workflow:WorkflowQCView label="Sample Quality" id="workflowQCView" icon="@Embed('../../assets/chart_curve.png')"/> 
	           
	           <workflow:WorkflowLabelingView label="Labeling" id="workflowLabelingView" icon="@Embed('../../assets/asterisk_yellow.png')"/>
	    
	           <workflow:WorkflowHybView label="Hybridization" id="workflowHybView" icon="@Embed('../../assets/basket_put.png')"/>
	
	           <workflow:WorkflowExtractionView label="Scan / FE" id="workflowExtractionView" icon="@Embed('../../assets/color_swatch.png')"/>
               
               <mx:Canvas id="blankMicroarray" label=""> 
               </mx:Canvas>
                
            </mx:ViewStack>
			<mx:ViewStack id="solexaViews"  visible="true" height="100%" width="100%" selectedIndex="6"  >
			
			   <workflow:WorkflowSolexaQCView label="Sample Quality" id="workflowSolexaQCView" icon="@Embed('../../assets/chart_curve.png')"/> 	           
			   
			   <workflow:WorkflowSolexaPrepView label="Lib Prep" id="workflowSolexaPrepView" icon="@Embed('../../assets/chart_line.png')"/>
			   
			   <workflow:WorkflowSolexaStockView id="workflowSolexaStockView" label="Flow Cell Stock" icon="@Embed('../../assets/flask.png')">			   	
			   </workflow:WorkflowSolexaStockView>           
			   
			   <workflow:WorkflowSolexaAssembleView label="Cluster Gen" id="workflowSolexaAssembleView" icon="@Embed('../../assets/text_align_justify.png')"/> 	           
			   
			   <workflow:WorkflowSolexaRunView label="Seq Run" id="workflowSolexaRunView" icon="@Embed('../../assets/solexa.png')"/> 	           

			   <workflow:WorkflowSolexaPipelineView label="GA Pipeline" id="workflowSolexaPipelineView" icon="@Embed('../../assets/server_go.png')"/> 	           
			    
			   <mx:Canvas id="blankSolexa" label=""/>
			   
			</mx:ViewStack>
			<workflow:FlowCellView id="flowCellView"/>
			
			
		</mx:ViewStack>
		
	
	</mx:HDividedBox>
	
	
  		
	
    
</mx:Canvas>
