GNomEx Release Notes


4.9.1
------------------------
- When gnomex user is submitting a work auth form, show only labs he belong to in dropdown. 
- Provide way to launch gnomex to automatically bring up Work Auth window. 
- For advanced search, show only slides (in dropdown) that are used for public experiments when user is guest or univ-only user
- Fix bug that was causing error on save after adding new Billing account to a lab.
- Add info under 'Trouble downloading' to recommend users download files individually when over 2 GB.  Also, in prompt recommend indiv. file download when exceed 2 GB.\


4.9 (Aug 23, 2010)
------------------------
- Added ability for univ users (with or without GNomEx account) to submit work authorization forms in gnomex
- Added ability for admins to approve pending billing accounts (from work auth forms)
- Fix bug that was causing delete request to fail because of fk violation to seq lib treatments.
- Fix bug introduced in 4.8.7 that was causing empty work list for sequencing run and sequencing data pipeline.
- Scrub out slide product, slide design list for guest users and non-gnomex university users
- Scrub out all custom slides not belonging to user's lab
- Don't show 'no slides' message before user has selected microarray app radio button on Microarray Submit Request window.
- Show 'changes have not been saved' message when admin clicks on 'Approved' checkbox for pending billing account of Lab.

4.8.7.1 (Aug 17, 2010)
-------------------------
- Fixed bug introduced in 4.8.7 that was causing billing account dropdown to be blank on Submit Request window for non-admin users.
- Fixed bug introduced in 4.8.7 that was not allowing new billing accounts to be added to a lab.
- Fixed bug introduced in 4.8.7 that was causing Experiment Edit window to not refresh on subsequent experiments after first experiment.
- Rework timing of getting slide product list and slide design list on SubmitWindow so that it only occurs when user selects a microarray request kind.
- Don't show drag-n-drop hint on Experiments and Analysis windows for guest users.
- Multi-group selection window to filter Analysis now allows user to click on row to select lab.
- Analysis filter 'Show public experiments' causes analysis tree to refresh automatically.
- Fix wording on 'Add Services' when no QC experiments found (incorrectly worded as 'No Illumina experiments found'

4.8.7 (Aug 16, 2010)
-------------------------
- Show links on Price sheet tab of Billing window to jump to a particular price sheet.
- Add checkbox 'Show Prices' to price sheet tab of Billing window.
- Reformat filter box in Billing window nav area.
- Fix email body for invoices to work with Gmail HTML renderer.
- Use DictionaryManager cache in DictionaryHelper rather than hibernate queries, reducing DictionaryHelper.loadDictionaries from 2 seconds to < millisecond.
- Improved app startup performance by waiting to run queries to get slides and app user list until needed.  Also, improved performace of lab list by lazing loading billing accounts. (reduced startup on test server from 18 to 7 seconds)
- Fixed bug that was causing vendor, lab, billing class, etc. dropdowns to clear out after switching from Slides to some other window.
- Don't show account number or submission instructions on printable request form when guest is logged into GNomEx.
- On home page, rename 'Show My Experiments' to 'Show Experiments' when guest is logged into GNomEx.  


4.8.6 (Aug 9, 2010)
-------------------------
- Show billing items for other periods in Billing window (when clicking on request from tree)
- Moved 'internal pricing' and 'external pricing' radio buttons to Billing Account tab on Group detail window.
- When looking up experiment by request number, find experiment regardless of revision number (proceeding 'R' in experiment number).
- Show price criteria on Pricing tab of Billing window.
- Put refresh button as last link button on right of top nav panel for billing, experiments for consistent UI layout

4.8.5 patch (July 29, 2010)
-------------------------
- Fixed bug on Illumina submit request that was causing 'Samples' tab to be non-functional when 'Prepped by Core' = 'N'.  Bug introduced with prep instructions.
- Enabled barcoding for Illumina requests where the seq lib is prepped by lab (rather than core)

4.8.5 (July 28, 2010)
-------------------------
- Introduced new Billing Lab Usage report.
- Don't allow Lab to be changed on Analysis edit window.  (Should use drag-n-drop instead)
- Reformat Analysis edit window to leave more room for description.  Moved analysis group to its own tab.
- Move filter widgets and refresh link to top panel in Analysis view.  
- Add ability to filter by multiple labs in Analysis view and ability to filter by analysis created in last week, month, 3 months, or year.
- Add core prep instructions to Submit Illumina Request window.  Show instructions on printable form.
- Fix save bug on Microarray edit screen by refreshing list that populates application radio buttons based on request category.
- Increase width of printable request form from 600 to 700 pixels.


4.8.4 (July 25, 2010)
-------------------------
- Fix email body to work with Outlook 2007 and Gmail HTML renderers.
- Only warn about missing chartfields or blanking out chartfields on PO accounts for billing accounts just updated or added.

4.8.3 (July 21, 2010)
-------------------------
- Fixed bug where reselect on deactivated price caused blacked-out line. (Robb)
- Made change so cursor stays on “complete” after request has been moved from “complete” to “approved.” (Robb)
- Changed External Billing checkbox to Internal/External Pricing radio buttons. (Robb)
- Added PO checkbox to BillingAccounts items and blank out chartfields when checked.  
- Use PO flag on billing account to determine if billing shows under 'External PO' folder rather than using 'External' flag on Lab. (Robb)
- Warn when price, qty, or unit price is blank or 0;


4.8.2 (patch July 9, 2010)
-------------------------
- Fixed protocols links on experiments detail.  Bug was causing last protocol to always be shown.

4.8.2 (July 7, 2010)
-----------------------
- Fixed printable request form for Illumina HiSeq to show barcode (also other code that should test for both GAIIX and HiSeq like sample quality billing plug-in)
- Fixed billing summary report by lab to include HiSeq in Solexa totals.
- Work around unreachable orion dtd in datasources.xml by using dummy entity resolver in lucene BuildIndex java app
- Change Illumina Lib QC plug-in to only create billing item if lab prepped own library (seqPrepByCore=N)
- Bypass creating sample quality billing items and lib prep billing items on Illumina requests where the lab prepped its own library.

4.8.1 (Jul 6, 2010)
-----------------------
- Replaced seq lib treatments with request categories
- Order sequencing application radio buttons
- Added fk constraint on Request to Request Category


4.8 (Patch Jul 2, 2010)
------------------------
- Fixed bug that was causing actionscript error deep in renderer code.  Only happened when clicking on microarray experiment.  Fixed by adding hybs grid in MicroarrayState.

4.8 (July 1, 2010)
------------------------
-	Introduced Illumina HiSeq 2000 request category
-	Introduced new tab in Worfklow for Illumina HiSeq
-	Filter number sequencing cycles by request category (GAIIx vs HiSeq 2000)
-	Order radio buttons (ascending sort) for number seq cycles 
-	Order radio buttons for single vs. paired ends
-	Add notes to number sequencing cycles
-	Allow more than 1 sequencing lane per sample on Illumina new requests
-	Added PhiX error rate to Flow Cell Channel
-	Fixed bug in billing plug-in for Illumina sequencing that matched to incorrect price criteria
-	Add total PO debit and credit rows to Billing GL Interface and change journal entry name to 'MICROARRAY'
-	Billing 'approved' link now jumps to 'Approved (external)' rather than 'Approved'.
-	On experiments page, don't include request category and application in sort.  Sort be request number (descending) instead.
-	Disable request categories on submit request window, add services window if request category is inactive



4.7 patch (June 22, 2010)
------------------------
- Fix bug that was causing null reference on lab combo when non-admin user submitting a request
- Fixed bug that was causing # of additional sequencing lanes on 'add services' to be non-editable for non-admin users
- Don't require sample prep method to be filled in when adding lanes since old requests won't have this filled in
- Fix null ref in sample setup for onGetLab parentDocument.filteredProjectList.refresh()

4.7 (June 20, 2010)
-------------------------
- Ability to add services to an experiment request (amend request)
- Add filter in last 3 months experiment filter
- Include application in  experiment tree label for advanced search, amend request  
- Dictionary editor - maintain selection when dictionary entry added, edited, removed
- Maintain the last selection on billing period combo on Billing screen
- Fixed some compile warnings related to parameterized collections.
- Add lastModifyDate to request (experiment)
- Billing items are now created automatically when new request is submitted or services are added to an existing request.
- Drag-n-drop analysis to analysis group(s).
- Make printable experiment form more print-friendly.
- Add revision number to end of request number when services are added (example 7425R -> 7425R1 -> 7425R2).
- Delete billing items associated with request when request is deleted (warn first).
- Fix bug that was causing non-existent experiment lookup to interfere with subsequence experiment browses
- Add ability to add, delete samples on edit request window
- Document sample, hyb, or seq lane number to correspond to qty (not stored in db yet, waiting for future release to free up notes field.)
- Handle added lanes, hybs, samples in billing plug-ins.
- Just warn if samples on experiment not used on hybs or seq lanes.
- Show warning about adjusting billing when services deleted on edit window.
- Add ability to link other lab's experiments to analysis.
- Ignore inactive price categories when creating billing items 
- Require lab to be selected for admins on Experiment browse if broad criteria or no other criteria provided.
- Altered Lib conc. to support 1 decimal (Illumina workflow Lib Prep)
- Generalize work auth links using properties workauth1_url, workauth1_name, workauth2_url, workauth2_name
- Default printing of request form does not include instructions.  Additional link provided for 'Print all' so that instructions can be printed with request form.
- Price sheet drag-n-drop only works for price categories, so warn user if attempted on prices or price sheets. Also, provide informative message when price category attached to another price sheet or repositioned.
- Add drag-and-drop hint link to Analysis, Experiments, and Billing Price Sheet

4.6.6 (May 13, 2010)
-------------------------
- Organize sequencing applications by theme
- Add sample lib prep conditions/treatments 
- Fix bug that was causing request category name, application name to double, triple
- Fix bug that was causing required border (yellow) to appear around microarray dropdown on microarray edit screen
- Fix typo in instruction box on microarray edit screen, hyb setup tab
- Add 'On Hold', 'In Progress' status to work item; persist status on work item 
- Get rid of Flow Cell Stock work list
- Show status on Illumina cluster gen work list


4.6.5 (Apr 28, 2010)
------------------------
- Format email to verify lab's user accounts with HTML instead of plain text.
- Add isActive to lab.  Show (inactive) verbiage in list of users.
- Fix refresh after save of user and group.
- Fix Type #1090 error caused due to mis-timed event-handling when looking up by experiment or analysis
- Fix scoping when looking up analysis or experiment not in user's lab.
- Show different states on home view for admin, non-submitting user (no lab assigned) or guest.
- Show padding for download button on analysis detail.


4.6.4 (Apr 25, 2010)
------------------------
 - Auto-email group contact to verify active user accounts.
 

4.6.2 (Apr 12, 2010)
-------------------------
- Fix cy3 and cy5 radio buttons so that renderer works with scrolling.  Switched to using checkboxes.
- Fixed problem with seq app and microarray app radio button repeaters that were not refreshing after first submit request.
- Fixed load properties in gnomex security manager to only occur in init.  Used entitity resolver so that if orion site is down, datasources.xml will still be parsed.
- Patch (Apr 13, 2010)
  - Fix problem where qc submit request was showing seq app radio buttons
  - moved seq app radio buttons to its own tab
- Patch (Apr 14, 2010)
  - Fix download list for illumina requests so that multiple GAII folders (with dashes) an appear
  - Seq app radio button on sep tab now.
 

4.6.1 (Mar 30, 2010)
-------------------------
- Fixed bug that was preventing price criteria from being deleted.  Also fixed bug that was preventing multiple criteria from being saved in one shot.
- Fixed bug that was preventing lanes from being added or copied when template had analysis instructions with a single quote.


4.6.3 (Mar 29, 2010)
-------------------------
- New radio group renderer for cy3 and cy5 labels on samples tab to fix bug that shows up when more than one page worth of samples.
- Fix Illumina seq prep by core = n invalid ref problem
- Fix filter problem on slide dropdown when new slide added
 

4.5.3.1 (Mar 15, 2010)
-------------------------
- Fixed analysis upload servlet bug
- Introduced plupload widget for HTML uploader.
- Select user after adding new one.
- Patches
  - Fix Illumina lib prep (radio not selected) causing null ref on # seq cycles radio group. (patched swf Mar 17,2010)


4.5.3  (Mar 12, 2010)
-------------------------
- New HTML uploader to workaround +1 GB Flex upload problem encountered.


