<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml"
		   width="100%" height="100%" backgroundAlpha="1.0" creationComplete="init()"
		   creationPolicy="all" hideEffect="{parentApplication.fadeOut}"
		   horizontalScrollPolicy="off" showEffect="{parentApplication.fadeIn}"
		   xmlns:db="views.dashboard.*"
		   verticalScrollPolicy="off">
	
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
			
		//	var monitorVisible:Boolean = true;
		//	var notificationVisible:Boolean = true;
			
			public function init():void {
				// Determine 3 states:
					// * User
					// * Billing
					// * (Super) Admin
				
		//			Alert.show("PA state: " + parentApplication.currentState);
		//			Alert.show("Current local state DB: " + currentState);
					
			//		monitorVisible = false;	
				
		//			if(currentState  == "user"){
//					}
					//notificationHub.currentState = "admin";
				//	notificationHub.currentState = "";
/*				}else if(parentApplication.hasPermission(parentApplication.CAN_ADMINISTER_ALL_CORE_FACILITIES)){
					currentState = "billing";
					notificationHub.currentState = "billing";
					Alert.show("CAN Admin all core facs");
				}else{
					currentState = "user";
					notificationHub.currentState = "user";
					Alert.show("Just a user - default");*/
			}
		]]> 
	</mx:Script>

	<mx:VBox verticalAlign="middle" horizontalAlign="center" width="100%" height="100%">
		<mx:Spacer height="25" />
			
		<mx:HBox width="100%" horizontalAlign="center">
			<mx:Label height="106" fontSize="33" text="GNomEx Dashboard" />
		</mx:HBox>
		
		<mx:Spacer height="10" />
		
		<mx:VBox verticalAlign="middle" horizontalAlign="center">
			<mx:HBox>
				<db:News id="newsHub" />
				<db:FAQ id="faqHub" />
			</mx:HBox>
			<mx:Spacer height="10" />		
			<mx:HBox>
				<db:NotificationHub id="notificationHub" />
				<db:RunStatusHub id="runMonitor" />
			</mx:HBox>
		</mx:VBox>
	</mx:VBox>
</mx:Canvas>
