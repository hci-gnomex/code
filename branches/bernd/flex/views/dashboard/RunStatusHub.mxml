<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml" layout="vertical" 
				xmlns:db="views.dashboard.*" 
				title="Sequencer Status" 
				width="536" height="370">   

<mx:Script>
	<![CDATA[
		
		// Imports
		
		// Variables
		[Bindable]
		private activeRuns:int = 0;
		
		[Bindable]
		private finishedRuns:int = 0;
		
		[Bindable]
		private haltedRuns:int = 0;
		
		[Bindable]
		private turnRuns:int = 0;
	]]>
</mx:Script>
	
	<mx:VBox width="100%" paddingBottom="4" paddingLeft="4" paddingRight="4" paddingTop="4">
		<mx:HBox width="100%" height="20" horizontalAlign="center">
			<mx:Label id="numActiveRuns" text="Active runs: {activeRuns}" />
			<mx:VRule />
			<mx:Label id="numFinishedRuns" text="Finished runs: {finishedRuns}" />
			<mx:VRule />
			<mx:Label id="numErrorRuns" text="Halted runs: {haltedRuns}" />
			<mx:VRule />
			<mx:Label id="numTurnRuns" text="Turn runs: {turnRuns}"/>
		</mx:HBox>
		<mx:HRule width="100%" />
			
			<mx:HBox id="titleContainer" width="100%" horizontalAlign="center">
				<mx:Label id="mainTitle" text="Current Active Sequencing Machines" fontSize="22" />
			</mx:HBox>
			<mx:VDividedBox height="3"/>
			<mx:VBox>
				<!-- 
				Use Mx:Repeater for all available sequencing machines.
				Call GetRunsByState.gx - Create XML format? 
				-->
				
				<mx:Repeater id="repStatus" dataProvider="{}" startingIndex="1" count="3" >
					<mx:VBox borderStyle="solid" borderThickness="1" paddingBottom="4" paddingLeft="2" paddingRight="2" paddingTop="2">
						<mx:HBox id="runProgress">
							<mx:Label id="seqMachine1" text="{instrumentName}" />
							<mx:ProgressBar id="progress1" width="431" label="%1 / %2 Cycles"
											labelPlacement="center" mode="manual" />
						</mx:HBox>
						<mx:HBox id="runInfo" width="100%">
							<mx:Label id="runId" text="Run name: {sumRunId}" />
							<mx:VRule height="20" />
							<mx:Label id="runType" text="Run type: {sumRunType}" />	<!-- Single End / Paired End-->
							<mx:VRule height="20" />
							<mx:Label id="runDate" text="Run date: {sumRunDate}" />
						</mx:HBox>
						<mx:Label id="runPhase" text="Current phase: {runPhase}" />
					</mx:VBox>
				</mx:Repeater>
			</mx:VBox>
	</mx:VBox>
</mx:TitleWindow>
