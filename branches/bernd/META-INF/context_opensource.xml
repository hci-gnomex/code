<Context path="/gnomex" docBase="webapps/gnomex" debug="99" reloadable="true" allowLinking="true">


  <Valve
	    className="org.apache.catalina.valves.AccessLogValve"
	    directory="${catalina.home}/logs/"
	    prefix="gnomex-"
	    suffix=".log"
	    pattern="combined" />

	    
  <Resource auth="Container" 
    mail.smtp.host="${hci.mailserver}"  
    name="mail/MailSession" 
    type="javax.mail.Session"/>

    
     <Resource name="jdbc/GNOMEX"
            auth="Container"
            driverClassName="${hci.gnomex.driverClassName}"
            maxActive="100"
            maxIdle="30"
            maxWait="10000"
            username="${hci.gnomex.username}"
            password="${hci.gnomex.password}"
            type="javax.sql.DataSource"
            factory="hci.gnomex.security.tomcat.EncryptedDataSourceFactory"
			removeAbandoned="true"
			removeAbandonedTimeout="20"
			validationQuery="select 1"
            url="${hci.gnomex.url}" />
            
     <Resource name="jdbc/GNOMEX_GUEST"
            auth="Container"
            driverClassName="${hci.gnomex.driverClassName}"
            maxActive="100"
            maxIdle="30"
            maxWait="10000"
			username="gnomexGuest"
            password="${hci.gnomexguest.password}"
			removeAbandoned="true"
			removeAbandonedTimeout="20"
			validationQuery="select 1"
            type="javax.sql.DataSource"
            factory="hci.gnomex.security.tomcat.EncryptedDataSourceFactory"
            url="${hci.gnomexguest.url}" />          
    
  <!-- GNomEx Realm for authenticating user  -->
   <Realm className="hci.gnomex.security.tomcat.GNomExLDAPRealm"
         datasource_lookup_name="java:comp/env/jdbc/GNOMEX"/>
    
</Context>

